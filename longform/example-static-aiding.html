<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Static Aiding &mdash; OxTS C++ Generic Aiding SDK  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Static Aiding (No Boost)" href="example-static-aiding-no-boost.html" />
    <link rel="prev" title="My First GAD" href="example-my-first-gad.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> OxTS C++ Generic Aiding SDK
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction to Generic Aiding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-aiding-requirements.html">Generic Aiding Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="timestamps.html">Timestamping Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="sensorcharacterisation.html">Sensor characterisation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Aiding types</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="generic-aiding-position-updates.html">Position</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-aiding-velocity-updates.html">Velocity</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-aiding-attitude-updates.html">Attitude</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-aiding-heading-updates.html">Heading</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-aiding-speed-updates.html">Speed</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="example-my-first-gad.html">My First GAD</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Static Aiding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#method">Method</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#linux">Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#source-code-breakdown">Source Code Breakdown</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example-static-aiding-no-boost.html">Static Aiding (No Boost)</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-zv-wheelspeed.html">Zero Velocity Wheelspeed</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-heading.html">Heading Update Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Material</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="defining-a-local-reference-frame.html">User-defined Local Frame (beta)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gad-files.html">.gad files</a></li>
<li class="toctree-l1"><a class="reference internal" href="reassigning-traditional-sources.html">Reassigning Traditional Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="stream-priority.html">Stream Priority</a></li>
<li class="toctree-l1"><a class="reference internal" href="position-only-initialisation.html">Position Only Initialisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="all-options.html">All Configuration options</a></li>
<li class="toctree-l1"><a class="reference internal" href="is-my-data-being-received.html">Is my data being received?</a></li>
<li class="toctree-l1"><a class="reference internal" href="ncom-updates.html">NCOM Output</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gal-cpp/index.html">C++</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OxTS C++ Generic Aiding SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Static Aiding</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/longform/example-static-aiding.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="static-aiding">
<span id="staticaidingexample"></span><h1>Static Aiding<a class="headerlink" href="#static-aiding" title="Permalink to this heading"></a></h1>
<p>This example of Generic Aiding is designed to be used with a stationary INS. The
full source code for this example can be found in
<cite>/examples/gal/static-aiding.cpp</cite>.</p>
<p>In this example, position, velocity, and attitude data is sent to an OxTS INS
in real time.</p>
<p>Recommended prior reading:</p>
<ul class="simple">
<li><p>Building the SDK (README.md)</p></li>
<li><p><a class="reference internal" href="intro.html#introduction"><span class="std std-ref">Introduction</span></a></p></li>
</ul>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>An OxTS INS with the relevant Generic Aiding Feature Codes enabled. If you
are not sure whether you have the right Feature Codes or are unfamiliar with
them, contact <a class="reference external" href="mailto:support&#37;&#52;&#48;oxts&#46;com">support<span>&#64;</span>oxts<span>&#46;</span>com</a>.</p></li>
<li><p>A PC, connected to the INS via ethernet.</p></li>
<li><p>The GAD SDK has been built on this machine / pre-built binaries have been
downloaded (not currently available).</p></li>
</ul>
</section>
<section id="method">
<h2>Method<a class="headerlink" href="#method" title="Permalink to this heading"></a></h2>
<p>How to run the executable.</p>
<section id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Navigate to the relevant project confiugration directory in the build folder:
<cite>cd &lt;build_dir&gt;/examples/gal</cite>.</p></li>
<li><p>Run the executable: <cite>./static-aiding-example</cite>. This will begin sending
Generic Aiding packets.  There are four possible optional argumnts that can be provided:</p>
<ul class="simple">
<li><p>Device IP address</p></li>
<li><p>Number of packets</p></li>
<li><p>Output type (csv)</p></li>
<li><p>Output file (if outputting to csv)</p></li>
</ul>
<p>For example: <cite>./static-aiding-example 192.168.25.10 70 csv debug_out.csv</cite> will output 70 packets of data to debug_out.csv.
To output to a live device omit the final 2 arguments: <cite>./static-aiding-example 192.168.25.10 70</cite></p>
</li>
</ol>
</section>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Navigate to the relevant directory in the build folder:
<cite>cd &lt;build_dir&gt;/examples/gal/Debug</cite>.</p></li>
<li><p>From the command line run the executable: <cite>static-aiding-example.exe</cite>. This will begin sending
Generic Aiding packets.  There are four possible optional argumnts that can be provided:</p>
<ul class="simple">
<li><p>Device IP address</p></li>
<li><p>Number of packets</p></li>
<li><p>Output type (csv)</p></li>
<li><p>Output file (if outputting to csv)</p></li>
</ul>
<p>For example: <cite>static-aiding-example.exe 192.168.25.10 70 csv debug_out.csv</cite> will output 70 packets of data to debug_out.csv.
To output to a live device omit the final 2 arguments: <cite>static-aiding-example.exe 192.168.25.10 70</cite></p>
</li>
</ol>
</section>
</section>
<section id="source-code-breakdown">
<h2>Source Code Breakdown<a class="headerlink" href="#source-code-breakdown" title="Permalink to this heading"></a></h2>
<p>Here we run through the source code, explaining the purpose of each of the lines.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;oxts/gal-cpp/gad.hpp&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;oxts/gal-cpp/gad_handler.hpp&quot;</span><span class="cp"></span>
</pre></div>
</div>
<p>These are the two includes required for most users of Generic Aiding. <cite>gad.hpp</cite>
contains the <cite>Gad</cite> class used to form the basis of all Generic Aiding Data.
<cite>gad_handler.hpp</cite> contains the <cite>GadHandler</cite> class, which provides functionality
to encode and send the data packets.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifdef _WIN32</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;windows.h&gt;</span><span class="cp"></span>
<span class="cp">#elif __linux__</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span><span class="cp"></span>
<span class="cp">#endif</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">OxTS</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="kt">void</span><span class="w"> </span><span class="nf">Sleep</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">sleepMs</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="cp">#ifdef __linux__</span>
<span class="w">    </span><span class="n">usleep</span><span class="p">(</span><span class="n">sleepMs</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="p">);</span><span class="w">   </span><span class="c1">// usleep takes sleep time in us (1 millionth of a second)</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef _WIN32</span>
<span class="w">    </span><span class="n">Sleep</span><span class="p">(</span><span class="n">sleepMs</span><span class="p">);</span><span class="w">    </span><span class="c1">// Sleep takes sleep time in ms.</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="c1">// OxTS</span>
</pre></div>
</div>
<p>This code is not exclusive to Generic Aiding. It is a basic implementation of a
cross-platform sleep function, which will make the system wait a set period of
time before continuing execution.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OUTPUT_TYPE</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">UDP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">CSV</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>Extremely simple enum, to allow switching between CSV (file) and UDP (via
ethernet) output in this example.</p>
<p>Now we enter the <cite>main()</cite> function:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">sendPackets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w"></span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">unit_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;192.168.25.22&quot;</span><span class="p">;</span><span class="w"></span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">file_out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;out.gad&quot;</span><span class="p">;</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">output_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OUTPUT_TYPE</span><span class="o">::</span><span class="n">UDP</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>These variables determine some of the setup of the example, including the
number of packets to send, the IP address to send the packets to, the output
file, and whether to output to CSV or UDP. Naturally, only one of the IP
address and output file are actually used on a given run.  These variables are also set form user input if provided.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">OxTS</span><span class="o">::</span><span class="n">GadPosition</span><span class="w"> </span><span class="n">gp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OxTS</span><span class="o">::</span><span class="n">GadPosition</span><span class="p">(</span><span class="mi">129</span><span class="p">);</span><span class="w"></span>
<span class="n">gp</span><span class="p">.</span><span class="n">SetPosGeodetic</span><span class="p">(</span><span class="mf">51.91520330</span><span class="p">,</span><span class="mf">-1.24479140</span><span class="p">,</span><span class="mf">111.525</span><span class="p">);</span><span class="w"></span>
<span class="n">gp</span><span class="p">.</span><span class="n">SetPosVar</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="n">gp</span><span class="p">.</span><span class="n">SetTimeVoid</span><span class="p">();</span><span class="w"></span>
<span class="n">gp</span><span class="p">.</span><span class="n">SetAidingLeverArmFixed</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.0</span><span class="p">);</span><span class="w"></span>
<span class="n">gp</span><span class="p">.</span><span class="n">SetAidingLeverArmVar</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>This portion of code sets up the static Generic Aiding Position data. Each
Generic Aiding type has its own <cite>Gad&lt;type&gt;</cite> class which inherits from the <cite>Gad</cite>
superclass. These subclasses are designed to simplify the process of setting
data for users when working with the different data types.</p>
<p>When initialising an instance of any <cite>Gad</cite> class, it is necessary to assign it
a unique stream Id. These can take values in the range 128-254, and each one
must be unique. See <a class="reference internal" href="sensorcharacterisation.html#streamiddefinition"><span class="std std-ref">Stream Id</span></a> for more details on stream Ids.</p>
<p>This particular position data is set in the WGS84 coordinate frame, using
Latitude, Longitude, Altitude. The default values here correspond to the OxTS
offices - users will need to change this to match their location. The
covariance values are then set for this data. More information on how
covariances should be estimated can be found in <span class="xref std std-ref">estimatingerrors</span> .</p>
<p>The Generic Aiding interface allows a few ways to timestamp data being sent to
an INS. In this example, we choose to send no timestamp, or “Void”. This
indicates to the INS that the data should be timestamped by the system upon
receipt.</p>
<p>Finally, the lever arm and the variance on these values are set. The lever arm
is the linear offset from the INS to the aiding device, in the IMU frame. The
variance indicates how accurately these values are known. By setting the lever
arm to “Fixed”, it is indicated to the INS that this lever arm is not to be
optimised. This is the most common setup.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">OxTS</span><span class="o">::</span><span class="n">GadVelocity</span><span class="w"> </span><span class="n">gv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OxTS</span><span class="o">::</span><span class="n">GadVelocity</span><span class="p">(</span><span class="mi">130</span><span class="p">);</span><span class="w"></span>
<span class="n">gv</span><span class="p">.</span><span class="n">SetVelNeu</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">);</span><span class="w"></span>
<span class="n">gv</span><span class="p">.</span><span class="n">SetVelNeuVar</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">);</span><span class="w"></span>
<span class="n">gv</span><span class="p">.</span><span class="n">SetTimeVoid</span><span class="p">();</span><span class="w"></span>
<span class="n">gv</span><span class="p">.</span><span class="n">SetAidingLeverArmFixed</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.0</span><span class="p">);</span><span class="w"></span>
<span class="n">gv</span><span class="p">.</span><span class="n">SetAidingLeverArmVar</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Next, we set up the velocity data, which follows a similar pattern to the
position data. This aiding data is given stream ID 130.</p>
<p>The velocity is set in the North, East, Up (left-handed) coordinate system.
Since we are creating <em>static</em> data, the velocity is zero in all axes.</p>
<p>The lever arm for the velocity data is set to the same values as the position
data for this example. This might suggest that the data is coming from the
same source which is capable of calculating both types of measurement; perhaps
a GNSS receiver.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">OxTS</span><span class="o">::</span><span class="n">GadAttitude</span><span class="w"> </span><span class="n">ga</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OxTS</span><span class="o">::</span><span class="n">GadAttitude</span><span class="p">(</span><span class="mi">131</span><span class="p">);</span><span class="w"></span>
<span class="n">ga</span><span class="p">.</span><span class="n">SetAtt</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">);</span><span class="w"></span>
<span class="n">ga</span><span class="p">.</span><span class="n">SetAttVar</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">);</span><span class="w"></span>
<span class="n">ga</span><span class="p">.</span><span class="n">SetTimeVoid</span><span class="p">();</span><span class="w"></span>
<span class="n">ga</span><span class="p">.</span><span class="n">SetAidingAlignmentOptimising</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">);</span><span class="w"></span>
<span class="n">ga</span><span class="p">.</span><span class="n">SetAidingAlignmentVar</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>The attitude data differs slightly from the two previous aiding types since it
has an alignment, instead of a lever arm. This is due to the fact that when
providing orientation aiding data to an INS, it is not the linear displacement
between the aiding device and the INS which is relevant. Rather, it is the
angular offsets between the two frames of reference which is important. In
addition, this alignment is “Optimising” where the lever arms for the previous
two datums were “Fixed”. The “Optimising” tag indicates a couple of things to
the INS:</p>
<ul class="simple">
<li><p>This alignment should be taken from the mobile.att file on the INS. The
accuracy for the alignment should be taken from mobile.ata</p></li>
<li><p>This alignment should be optimised by the INS during operation, in order to
find the angles more accurately and therefore improve the quality of the aiding.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the alignment for a Generic Aiding attitude device is set to
“Optimising”, alignment for GNSS Dual Antenna must be reassigned. For more
information, see <a class="reference internal" href="reassigning-traditional-sources.html#reassigningtraditionaldatasources"><span class="std std-ref">Reassigning Traditional Data Sources</span></a> .</p>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">OxTS</span><span class="o">::</span><span class="n">GadHandler</span><span class="w"> </span><span class="n">gh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OxTS</span><span class="o">::</span><span class="n">GadHandler</span><span class="p">();</span><span class="w"></span>

<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">output_type</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="no">OUTPUT_TYPE</span><span class="o">::</span><span class="no">UDP</span><span class="w"> </span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="n">gh</span><span class="p">.</span><span class="n">SetEncoderToBin</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">gh</span><span class="p">.</span><span class="n">SetOutputModeToUdp</span><span class="p">(</span><span class="n">unit_ip</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="no">OUTPUT_TYPE</span><span class="o">::</span><span class="no">CSV</span><span class="w"> </span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="n">gh</span><span class="p">.</span><span class="n">SetEncoderToCsv</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">gh</span><span class="p">.</span><span class="n">SetOutputModeToFile</span><span class="p">(</span><span class="n">file_out</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">default</span><span class="w"> </span><span class="o">:</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Output type not known.&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>This block of code initialises an instance of the <cite>GadHandler</cite> and sets it up
to either send Generic Aiding data via UDP or to CSV file, based on the
configuration option at the start of the file.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">sendPackets</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">gh</span><span class="p">.</span><span class="n">SendPacket</span><span class="p">(</span><span class="n">gp</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">gh</span><span class="p">.</span><span class="n">SendPacket</span><span class="p">(</span><span class="n">gv</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">gh</span><span class="p">.</span><span class="n">SendPacket</span><span class="p">(</span><span class="n">ga</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; packets sent&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="n">OxTS</span><span class="o">::</span><span class="n">Sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>This final code block creates a for loop in which the Generic Aiding data is
encoded and sent to its configured destination (file or UDP). With
<cite>OxTS::Sleep(100)</cite>, the data will be sent at a rate of ~10Hz.</p>
<p>That’s it! This is all of the code necessary to send the three main types of
aiding to an OxTS INS. For many applications, three additional sources of
aiding across three types of aiding is more than is required. The kind
of setup which would require this number of aiding sources would be one in
which GNSS performance is heavily degraded.</p>
<p>Recommended next steps:</p>
<ul class="simple">
<li><p>Read more on creating aiding for each type: <a class="reference internal" href="../index.html#aidingtypestoc"><span class="std std-ref">Aiding types</span></a>.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="example-my-first-gad.html" class="btn btn-neutral float-left" title="My First GAD" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="example-static-aiding-no-boost.html" class="btn btn-neutral float-right" title="Static Aiding (No Boost)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, OxTS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>